# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Graphly –Ω–∞ Vercel - –§–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ö–û–î –ò–°–ü–†–ê–í–õ–ï–ù!

–Ø **—É–±—Ä–∞–ª –≤—Å–µ –∑–∞–≥–ª—É—à–∫–∏** –∏ –≤–∫–ª—é—á–∏–ª —Ä–µ–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ë–î
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω—ã
- ‚úÖ Yandex GPT –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω

## üìã –ù–ê–°–¢–†–û–ô–ö–ê VERCEL (5 –ú–ò–ù–£–¢)

### –®–ê–ì 1: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel

**Vercel Dashboard ‚Üí Project ‚Üí Settings ‚Üí Environment Variables**

–î–æ–±–∞–≤—å—Ç–µ –¥–ª—è **Production**:

```env
DATABASE_URL=postgresql://user:password@host:5432/database
JWT_SECRET=your-super-secret-jwt-key-for-production
YANDEX_API_KEY=your-yandex-cloud-api-key
YANDEX_FOLDER_ID=your-yandex-cloud-folder-id
NEXT_PUBLIC_BASE_URL=https://your-domain.vercel.app
NODE_ENV=production
```

### –®–ê–ì 2: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

**–í–∞—Ä–∏–∞–Ω—Ç A: Vercel Postgres**
1. Vercel Dashboard ‚Üí Storage ‚Üí Create Database
2. –í—ã–±–µ—Ä–∏—Ç–µ Postgres
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `DATABASE_URL` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–í–∞—Ä–∏–∞–Ω—Ç B: Supabase (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [supabase.com](https://supabase.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Database URL –∏–∑ Settings ‚Üí Database
4. –î–æ–±–∞–≤—å—Ç–µ –≤ Vercel –∫–∞–∫ `DATABASE_URL`

### –®–ê–ì 3: Yandex Cloud API

1. **–ó–∞–π–¥–∏—Ç–µ –≤ [Yandex Cloud Console](https://console.cloud.yandex.ru/)**
2. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** (–µ—Å–ª–∏ –Ω–µ—Ç)
3. **–í–∫–ª—é—á–∏—Ç–µ Yandex GPT API**
4. **–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:**
   - IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí –°–æ–∑–¥–∞—Ç—å
   - –†–æ–ª–∏: `ai.languageModels.user`
5. **–°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á:**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç ‚Üí –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á ‚Üí API –∫–ª—é—á
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á ‚Üí —ç—Ç–æ `YANDEX_API_KEY`
6. **–ü–æ–ª—É—á–∏—Ç–µ Folder ID:**
   - –í –∫–æ–Ω—Å–æ–ª–∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∫–∞—Ç–∞–ª–æ–≥–∞ ‚Üí —ç—Ç–æ `YANDEX_FOLDER_ID`

### –®–ê–ì 4: –î–µ–ø–ª–æ–π

```bash
git add .
git commit -m "Enable real database and API functionality"
git push origin main
```

### –®–ê–ì 5: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:

**–ß–µ—Ä–µ–∑ Vercel CLI:**
```bash
npm i -g vercel
vercel login
vercel link
vercel env pull .env.local
npx prisma migrate deploy
```

**–ò–ª–∏ —á–µ—Ä–µ–∑ SQL (–µ—Å–ª–∏ Supabase):**
1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ `prisma/schema.prisma`

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

### –¢–µ—Å—Ç API —Å—Ç–∞—Ç—É—Å–∞:
`https://your-domain.vercel.app/api/generate`

**–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "status": "OK",
  "environment": {
    "DATABASE_URL": "‚úÖ –ù–∞–π–¥–µ–Ω",
    "JWT_SECRET": "‚úÖ –ù–∞–π–¥–µ–Ω",
    "YANDEX_API_KEY": "‚úÖ –ù–∞–π–¥–µ–Ω",
    "YANDEX_FOLDER_ID": "‚úÖ –ù–∞–π–¥–µ–Ω"
  }
}
```

### –¢–µ—Å—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://your-domain.vercel.app/auth/register`
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
3. –î–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ë–î

### –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
1. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
3. –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º Yandex GPT

## üêõ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### "Build failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` –Ω–µ –ø—É—Å—Ç–æ–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤ –∫–æ–¥–µ

### "Database connection failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ë–î –¥–æ—Å—Ç—É–ø–Ω–∞
- –ü—Ä–∏–º–µ–Ω–∏—Ç–µ —Å—Ö–µ–º—É: `npx prisma migrate deploy`

### "User registration failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å email

### "Generation failed"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Yandex API –∫–ª—é—á–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∞—Ö —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—ã API

### "Unauthorized"
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å/–≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ JWT_SECRET
- –û—á–∏—Å—Ç–∏—Ç–µ cookies –±—Ä–∞—É–∑–µ—Ä–∞

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### Vercel Function Logs:
1. Dashboard ‚Üí Functions ‚Üí `/api/generate`
2. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
3. –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üéØ –ò–¢–û–ì

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–π –ë–î
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Yandex GPT
- ‚úÖ –õ–∏–º–∏—Ç—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –Ω–∞ Vercel!** üöÄ
