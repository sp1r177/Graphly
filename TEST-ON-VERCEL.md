# üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Graphly –Ω–∞ Vercel

## ‚úÖ –ö–û–î –ò–°–ü–†–ê–í–õ–ï–ù!

–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å **—É–º–Ω—ã–º–∏ fallback**:
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î –∏–ª–∏ –±–µ–∑ –Ω–µ—ë
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î –∏–ª–∏ –±–µ–∑ –Ω–µ—ë
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î

## üìã –ë–´–°–¢–†–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–ê VERCEL

### –®–ê–ì 1: –î–æ–±–∞–≤—å—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vercel

**Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables:**

```env
JWT_SECRET = your-jwt-secret-here-any-random-string
NEXT_PUBLIC_BASE_URL = https://your-domain.vercel.app
NODE_ENV = production
```

**–ü–æ–∫–∞ –ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ:**
- `DATABASE_URL` (–ø—É—Å—Ç—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ë–î)
- `YANDEX_API_KEY` (–±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫-–≥–µ–Ω–µ—Ä–∞—Ü–∏—é)

### –®–ê–ì 2: –î–µ–ø–ª–æ–π
```bash
git add .
git commit -m "Enable smart fallbacks for DB and API"
git push origin main
```

### –®–ê–ì 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API**: `https://your-domain.vercel.app/api/generate`
   
   **–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:**
   ```json
   {
     "status": "OK",
     "environment": {
       "JWT_SECRET": "‚úÖ –ù–∞–π–¥–µ–Ω",
       "DATABASE_URL": "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω",
       "YANDEX_API_KEY": "‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω"
     }
   }
   ```

2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ `https://your-domain.vercel.app/auth/register`
   - –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å
   - –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (—Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é**:
   - –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
   - –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å (–º–æ–∫-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

## üéØ –û–ñ–ò–î–ê–ï–ú–û–ï –ü–û–í–ï–î–ï–ù–ò–ï

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
- ‚úÖ **–° –ë–î**: –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ PostgreSQL
- ‚úÖ **–ë–µ–∑ –ë–î**: –°–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (fallback)
- ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–¥–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è:
- ‚úÖ **–° –ë–î**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ª–∏–º–∏—Ç—ã, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é
- ‚úÖ **–ë–µ–∑ –ë–î**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
- ‚úÖ **–° Yandex API**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π GPT
- ‚úÖ **–ë–µ–∑ API**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–∫-–≥–µ–Ω–µ—Ä–∞—Ü–∏—é

## üìä –õ–û–ì–ò –í VERCEL

**Vercel Dashboard ‚Üí Functions ‚Üí /api/auth/register:**
```
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ –ë–î: test@example.com
–ò–õ–ò
‚ö†Ô∏è  –í—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

**Vercel Dashboard ‚Üí Functions ‚Üí /api/generate:**
```
‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –ë–î
–ò–õ–ò
‚ö†Ô∏è  –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, —Å–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
```

## üîß –ü–û–≠–¢–ê–ü–ù–û–ï –£–õ–£–ß–®–ï–ù–ò–ï

### –≠—Ç–∞–ø 1: –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ë–î
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞

### –≠—Ç–∞–ø 2: –î–æ–±–∞–≤—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```env
DATABASE_URL = postgresql://user:pass@host:5432/db
```
- –ó–∞—Ç–µ–º: `npx prisma migrate deploy`

### –≠—Ç–∞–ø 3: –î–æ–±–∞–≤—å—Ç–µ Yandex GPT
```env
YANDEX_API_KEY = your-api-key
YANDEX_FOLDER_ID = your-folder-id
```

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

**–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

- üü° **–ú–∏–Ω–∏–º—É–º**: JWT + fallback (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç)
- üü¢ **–°—Ä–µ–¥–Ω–∏–π**: JWT + –ë–î (–ø–æ–ª–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∏ –∏—Å—Ç–æ—Ä–∏—è)
- üî• **–ü–æ–ª–Ω—ã–π**: JWT + –ë–î + Yandex GPT (–ø—Ä–æ–¥–∞–∫—à–Ω –≥–æ—Ç–æ–≤)

**–°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º!** üöÄ

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Function Logs –≤ Vercel
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `JWT_SECRET` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ Vercel!** üéØ
